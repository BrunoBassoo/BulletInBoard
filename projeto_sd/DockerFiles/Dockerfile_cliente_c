FROM alpine:3.21

WORKDIR /app

# Instalar dependências de compilação e runtime
RUN apk add --no-cache \
    gcc \
    musl-dev \
    zeromq-dev \
    msgpack-c-dev

# Copiar código fonte
COPY cliente.c .

# Compilar diretamente (sem Makefile)
RUN gcc -Wall -Wextra -pthread -o cliente cliente.c -lzmq -lmsgpackc -lpthread -lm

CMD ["./cliente"]

